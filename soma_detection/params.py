BASE_PATH = '/data/elowsky/OLST/soma_detection/'
REGISTRATION_BASE_PATH = '/data/elowsky/OLST/registration/'



# brain ids
BRAINS = ['170329','171012','180206','180523','180606','180614','180926','181004','181115','190123','190306','190327','190416','190522']
BRAINS_4000 = ['170329','171012', '180206', '180523', '180606', '180614', '180926', '181004', '190306', '190327', '190416', '190522']
BRAINS_3600 = ['181115', '190123']

# volume size
X_VOLUME_SIZE = 2048
Y_VOLUME_SIZE = 1024

# resolution 
X_RES_OBLIQUE = .406
Y_RES_OBLIQUE = .406
Z_RES_OBLIQUE = 2.5

X_RES_CORONAL = .406
Y_RES_CORONAL = 2.5
Z_RES_CORONAL = .406

# anisotropy factor
ANISOTROPY_FACTOR = Z_RES_OBLIQUE/X_RES_OBLIQUE

# Shearing Factor for Oblique -> Coronal
SHEAR_FACTOR_ISOTROPIC = -.7 
SHEAR_FACTOR_ANISOTROPIC = SHEAR_FACTOR_ISOTROPIC / ANISOTROPY_FACTOR

# clustering
CLUSTER_INTENSITY_THRESHOLD = 1000
CLUSTER_RADIUS_THRESHOLD = 30

# cropping
CROP_RADIUS = 25

# cnn classifier
CNN_MODEL_PATH = './cnn_model.json'
CNN_WEIGHTS_PATH = './cnn_weights.hdf5'
IMAGE_NORM_MAX_VALUE = 255
USE_CPU = True

# remove duplicate somas
STITCHING_PARAMETERS_PATH = './stitching_parameters.xml'
DISTANCE_THRESHOLD_DUPLICATES = 100

# layers used in flagship
FLAGSHIP_MOP_LAYERS = [2,5,6]

# Region IDs
BARREL_CORTEX_REGION_IDS = {329:0, 981:1, 201:2, 1047:4, 1070:5, 1038:6, 1062:6}

POSTERIOR_PARIETAL_REGION_IDS = {22:0, 532:1, 241:2, 635:4, 683:5, 308:6, 340:6}

PRELIMBIC_REGION_IDS = {972:0, 171:1, 195:2, 304:3, 363:5, 84:6, 132:6}
INFRALIMBIC_REGION_IDS = {44:0, 707:1, 747:2, 556:2, 827:5, 1054:6, 1081:6}

ORBITAL_REGION_IDS = {714:0, 264:1, 492:2, 352:5, 476:6, 516:6}
ORBITAL_LATERAL_REGION_IDS = {723:0, 448:1, 412:2, 630:5, 440:6, 488:6}
ORBITAL_VENTRAL_REGION_IDS = {738:0, 746:0, 969:1, 288:2, 1125:5, 608:6, 680:6}
ORBITAL_MEDIAL_REGION_IDS = {731:0, 484:1, 524:2, 582:2, 620:5, 910:6, 527696977:6}

ACA_REGION_IDS = {31:0,572:1,1053:2,739:5,179:6,227:6}
ACA_DORSAL_REGION_IDS = {39:0,935:1,211:2,1015:5,919:6,927:6}
ACA_VENTRAL_REGION_IDS = {48:0,588:1,296:2,772:5,810:6,819:6}

AI_REGION_IDS = {95:0}
AI_DORSAL_REGION_IDS = {104:0,996:1,328:2,1101:5,783:6,831:6}
AI_POSTERIOR_REGION_IDS = {111:0,120:1,163:2,344:5,314:6,355:6}
AI_VENTRAL_REGION_IDS = {119:0,704:1,694:2,800:5,675:6,699:6}

RETROSPLENIAL_REGION_IDS = {254:0}
RETROSPLENIAL_LATERAL_REGION_IDS = {894:0,671:1,965:2,774:5,906:6,279:6}
RETROSPLENIAL_DORSAL_REGION_IDS = {879:0,442:1,434:2,545:4,610:5,274:6,330:6}
RETROSPLENIAL_VENTRAL_REGION_IDS = {886:0,542:1,606:2,430:2,687:5,590:6,622:6}

ENTROHINAL_LATERAL = {918:0,1121:1,20:2,999:2,715:2,764:2,52:3,92:4,312:'4/5',139:5,387:5,28:6,60:6}
#ENTROHINAL_MEDIAL = {'d':{926:0,526:1,543:2,468:2,508:2,664:3,712:4,727:5,550:5,743:6,934:0},'v':{259:1.324:2,371:3,419:4,1133:5}}
#ENTORHINAL_REGION_IDS = {'l':ENTROHINAL_LATERAL, 'm:',ENTROHINAL_MEDIAL}

PIRIFORM_REGION_IDS = {961:0,152:0,276:1,284:2,291:3}



ORBITAL_REGION_IDS_ALL = {
	'o':ORBITAL_REGION_IDS,
	'l':ORBITAL_LATERAL_REGION_IDS, 
	'v':ORBITAL_VENTRAL_REGION_IDS, 
	'm':ORBITAL_MEDIAL_REGION_IDS,
	}

LIMBIC_REGION_IDS_ALL = {
	'p':PRELIMBIC_REGION_IDS,
	'i':INFRALIMBIC_REGION_IDS,
	}

ACA_REGION_IDS_ALL = {
	'a':ACA_REGION_IDS,
	'd':ACA_DORSAL_REGION_IDS,
	'v':ACA_VENTRAL_REGION_IDS,
	}

AI_REGION_IDS_ALL = {
	'a':AI_REGION_IDS,
	'd':AI_DORSAL_REGION_IDS,
	'p':AI_POSTERIOR_REGION_IDS,
	'v':AI_VENTRAL_REGION_IDS,
	}

RETROSPLENIAL_IDS_ALL =  {
	'r':RETROSPLENIAL_REGION_IDS,
	'l':RETROSPLENIAL_LATERAL_REGION_IDS, 
	'd':RETROSPLENIAL_DORSAL_REGION_IDS, 
	'v':RETROSPLENIAL_VENTRAL_REGION_IDS,
	}



REGION_IDS = {
	'posterior_parietal':POSTERIOR_PARIETAL_REGION_IDS,
	'barrel_cortex':BARREL_CORTEX_REGION_IDS,
	'orbital':ORBITAL_REGION_IDS_ALL,
	'limbic':LIMBIC_REGION_IDS_ALL,
	'infralimbic':INFRALIMBIC_REGION_IDS,
	'prelimbic':PRELIMBIC_REGION_IDS,
	'anterior_cingulate':ACA_REGION_IDS_ALL,
	'orbital_lateral':ORBITAL_LATERAL_REGION_IDS,
	'orbital_ventral':ORBITAL_VENTRAL_REGION_IDS,
	'orbital_medial':ORBITAL_MEDIAL_REGION_IDS,
	'agranular_insular':AI_REGION_IDS_ALL,
	'retrosplenial':RETROSPLENIAL_IDS_ALL,
	'piriform':PIRIFORM_REGION_IDS,
	'retrosplenial_lateral':RETROSPLENIAL_LATERAL_REGION_IDS,
	'retrosplenial_dorsal':RETROSPLENIAL_DORSAL_REGION_IDS,
	'retrosplenial_ventral':RETROSPLENIAL_VENTRAL_REGION_IDS
	}


CROP_INFO_PATH = '/data/elowsky/OLST/registration/crop_info.txt'
CROP_FACTOR = 10





